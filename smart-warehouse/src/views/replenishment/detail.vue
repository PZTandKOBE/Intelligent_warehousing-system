<template>
  <div class="page-container">
    <el-page-header @back="$router.back()" title="è¿”å›åˆ—è¡¨" class="custom-header mb-20">
      <template #content>
        <span class="title">è¡¥è´§å»ºè®®è¯¦æƒ…</span>
        <el-tag type="warning" effect="dark" class="ml-10">ç´§æ€¥ç¨‹åº¦: é«˜</el-tag>
      </template>
      <template #extra>
         <el-button type="primary" :icon="Download" @click="handleExport">å¯¼å‡ºæŠ¥å‘Š</el-button>
      </template>
    </el-page-header>

    <el-row :gutter="20">
       <el-col :span="24">
          <el-card shadow="never" class="detail-card" id="rep-report">
             <template #header>
               <div class="card-header">
                  <span>ğŸ“Š è¡¥è´§åˆ†ææŠ¥å‘Š</span>
                  <span class="text-info" style="font-size: 12px; font-weight: normal;">(é‚®ä»¶çŠ¶æ€: å·²è‡ªåŠ¨å‘é€)</span>
               </div>
             </template>
             <div class="html-content" v-html="reportHtml"></div>
          </el-card>
       </el-col>
    </el-row>
  </div>
</template>

<script setup>
import { ref } from 'vue';
import { Download } from '@element-plus/icons-vue';
import { downloadPDF } from '@/utils/exportReport';

const reportHtml = `
  <h3 style="color:#fff">1. ç¼ºå£åˆ†æ</h3>
  <p>ç‰©æ–™ <strong>STM32 èŠ¯ç‰‡</strong> å½“å‰åº“å­˜ä»…å‰© 50pcsï¼Œä½äºå®‰å…¨åº“å­˜çº¿ (200pcs)ã€‚æ ¹æ®è¿‡å»7å¤©çš„æ¶ˆè€—é€Ÿç‡ (å¹³å‡ 30pcs/å¤©)ï¼Œé¢„è®¡å°†åœ¨ <strong>1.6å¤©</strong> åè€—å°½ã€‚</p>
  <h3 style="color:#fff">2. è¡¥è´§å»ºè®®</h3>
  <p>å»ºè®®é‡‡è´­æ•°é‡ï¼š<strong>500pcs</strong>ã€‚</p>
  <p>å»ºè®®ä¾›åº”å•†ï¼šST Microelectronics (ä¸Šä¸€å•äº¤æœŸ 3å¤©)ã€‚</p>
  <h3 style="color:#fff">3. é£é™©æç¤º</h3>
  <p style="color: #E6A23C">è¯¥ç‰©æ–™è¿‘æœŸå¸‚åœºä»·æ ¼æ³¢åŠ¨è¾ƒå¤§ï¼Œå»ºè®®å°½å¿«ä¸‹å•é”å®šä»·æ ¼ã€‚</p>
`;

const handleExport = () => {
  downloadPDF('è¡¥è´§å»ºè®®æŠ¥å‘Š', '#rep-report');
};
</script>

<style scoped>
.page-container { padding: 20px; }
.mb-20 { margin-bottom: 20px; }
.ml-10 { margin-left: 10px; }
.custom-header { background: #1d1e1f; padding: 15px; border: 1px solid #333; }
:deep(.el-page-header__content) { color: #fff; }
.detail-card { background: #1d1e1f; border: 1px solid #333; color: #cfd3dc; }
.card-header { display: flex; justify-content: space-between; align-items: center; color: #fff; font-weight: bold; }
.html-content { line-height: 1.6; color: #cfd3dc; padding: 10px; }
</style>